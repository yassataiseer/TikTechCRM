@page "/Users"
@inject IModalService modal  

<html>
<h1>Users</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Password</th>
            </tr>
        </thead>
        <tbody>
                <tr>
                    <td>Yassa Taiseer</td>
                    <td>yassa123 <button class="btn btn-primary" >Edit</button>
                    <button type="button" class="btn btn-danger">Delete</button>
                     </td>
                </tr>
        </tbody>
    </table>
<button @onclick="@(()=>modal.Show<FetchData>("Modal Popup Example"))" class="btn btn-primary">View</button> 
<button  class="btn btn-info">Add a User</button> 

</html>
    @using System.Net.Http
    @using System.Text 
    @using System.Net.Http.Json
    @using System.Web
    @using Newtonsoft.Json.Linq
    @using Newtonsoft.Json
    @inject NavigationManager NavManager
    @inject NavigationManager UriHelper
    @inject IJSRuntime JsRuntime;
    
@code{
    private dynamic validate;
        protected override async Task OnInitializedAsync()
    {

        validate =  await JsRuntime.InvokeAsync<string>("BlazorGetLocalStorage","Username:");
       string value = (string)validate;
       if(value==null){
            NavManager.NavigateTo("/",true); 

       }
    }
}
